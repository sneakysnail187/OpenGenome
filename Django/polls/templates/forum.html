<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>OpenGenome</title>
        {% load static %}
        <link rel="stylesheet" href="{% static 'FinalSite/build/css/style.css' %}">
        <link rel="stylesheet" href="https://pyscript.net/releases/2023.11.2/pyscript.css" />
        <script defer src="https://pyscript.net/releases/2022.12.1/pyscript.js"></script>
    </head>

    <body class ="min-h-screen bg-slate-50 dark:bg-black dark:text-teal-700">
        <section hidden>
            <py-config hidden>
                [splashscreen]
                    enabled = false
                packages = ["pandas", "jinja2"]
                [[fetch]]
                from = 'https://raw.githubusercontent.com/sneakysnail187/OpenGenome/main/Data%20from%20GEO2R%20-%20One%20Experimental%20Group.csv'
            </py-config>
        </section>

        <header class="bg-teal-300 text-black sticky dark:bg-teal-700 top-0 z-10">
            <section class="max-w-4xl mx-auto p-4 flex justify-between items-center">
                <h1 class="text-3xl font-medium">
                    <a href="#hero"> OpenGenome - Analytics </a>
                </h1>
                <div>
                    <button id="mobile-open-button" class="text-3xl sm:hidden focus:outline-none">
                        &#9776;
                    </button>
                    <nav class="hidden sm:block space-x-8 text-xl" aria-labels="main">
                        <a href="#postList" class="hover:opacity-90">
                            User Posts
                        </a>
                        <a href ="postpage.html" class="hover:opacity-90">
                            Make Your Own
                        </a>
                        <a href="index.html" class="hover:opacity-90">
                            Home
                        </a>
                    </nav>
                </div>
            </section>
        </header>

        <main class="max-w-4xl mx-auto">
            <section id="postList" class="p-6 my-4 pt10 justify-center">
                <h2 class="text-4xl font-bold text-center sm:text-5xl mb-6 text-slate-900 dark:text-white">
                    User Posts
                </h2>
                <div class="w-96 mx-auto">
                    <form action = '' method="POST" enctype = "multipart/form-data" name = "result"> {% csrf_token %}
                        {%for Result in results %}
                        <button  value= {{Result.experimentTitle}}
                            class="block w-full cursor-pointer rounded-lg p-4 border border-slate-300 transition duration-500 bg-teal-700 text-slate-300 hover:bg-teal-100 hover:text-neutral-500 focus:bg-neutral-700 focus:text-neutral-500 focus:ring-0 dark:hover:bg-teal-700 dark:hover:text-neutral-200 dark:focus:bg-teal-700 dark:focus:text-neutral-200 my-2"> 
                            {{Result.experimentTitle}}
                        </button> 
                        {%endfor%}
                        <script>
                            // take selected button and store 
                        </script>
                        <div class="text-center mt-6">
                            <button name="button_type" value="analyze" id="analyzeButton" type="submit"  class="bg-teal-300 hover:bg-teal-500 dark:bg-teal-700 text-white font-bold py-2 px-4 mx-4 rounded">
                                Load Data
                            </button>
                            <button formaction="analytics.html" id="refreshDataButton" type="analyze" class="bg-teal-300 hover:bg-teal-500 dark:bg-teal-700 text-white font-bold py-2 px-4 mx-4 rounded" py-click="refreshList">
                                Go to Analytics
                            </button>
                    </form>
                    
                </div>
            </section>
        </main>
        
    </body>
</html>
